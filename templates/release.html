{% extends 'base.html' %}

{% block title %}Release Spot Page{% endblock %}


{% block nav %}
    <div class = "dropdown ms-auto">
        <button class = "btn btn-outline-primary dropdown-toggle rounded-pill shadow-sm" type = "button" data-bs-toggle = "dropdown"
            aria-expanded = "false">
            {{ user.name }}
        </button>
        <ul class = "dropdown-menu dropdown-menu-end p-3 shadow-lg rounded-3 border border-light" style = "min-width: 250px;">
            <li><strong class = "px-3 py-2 text-muted">Name:</strong> <span class = "text-muted">{{ user.name }}</span></li>
            <li><strong class = "px-3 py-2 text-muted">Email:</strong> <span class = "text-muted">{{ user.email }}</span></li>
            <li><strong class = "px-3 py-2 text-muted">Role:</strong> <span class = "text-muted">{{ user.role }}</span></li>

            <li class = "mt-3 d-flex justify-content-between">
                <a href = "{{ url_for( 'main_routes.EditProfile' ) }}" class = "btn btn-sm btn-warning rounded-pill shadow-sm">Edit</a>
                <a href = "{{ url_for( 'main_routes.ViewProfile' ) }}" class = "btn btn-sm btn-info text-white rounded-pill shadow-sm">View</a>
            </li>

            <li>
                <hr class = "dropdown-divider">
            </li>
            <li><a class = "dropdown-item text-danger rounded-bottom" href = "{{ url_for( 'main_routes.Logout' ) }}">Logout</a></li>
        </ul>
    </div>
{% endblock %}


{% block body %}

<div class = "container d-flex justify-content-center align-items-center min-vh-100 py-5">
    <div class = "col-12 col-md-8 col-lg-7">
        <div class = "card shadow-lg rounded-3 border border-light">
            <div class = "card-header bg-primary text-white text-center py-3 rounded-top-3">
                <h2 class = "mb-0 fw-bold">Release Parking Spot</h2>
            </div>
            <div class = "card-body p-4">
                <form method = "POST" action = "{{ url_for( 'main_routes.Release' ) }}">
                        <input type = "hidden" name = "flag" value = "True">
                        <input type = "hidden" name = "id" value = "{{reservation_id}}">
                        <input type = "hidden" name = "reserved_time" value = "{{ reserve_time }}" readonly>

                    <div class = "mb-3">
                        <label for = "spot_id" class = "form-label fw-semibold text-dark">Lot ID</label>
                        <input type = "text" class = "form-control rounded-3" name = "spot_id" value = "{{ lot_id }}" readonly>
                    </div>

                    <div class = "mb-3">
                        <label for = "spot_id" class = "form-label fw-semibold text-dark">Spot ID</label>
                        <input type = "text" class = "form-control rounded-3" name = "spot_id" value = "{{ spot_id }}" readonly>
                    </div>

                    <div class = "mb-3">
                        <label for = "vehicle_number" class = "form-label fw-semibold text-dark">Vehicle Number</label>
                        <input type = "text" class = "form-control rounded-3" name = "vehicle_number" value = "{{ vehicle_number }}" readonly>
                    </div>

                    <div class = "mb-3">
                        <label for = "parking_time" class = "form-label fw-semibold text-dark">Parking Time</label>
                        <input type = "text" class = "form-control rounded-3" name = "reserved_time" value = "{{ reserve_time }}" readonly>
                    </div>

                    <div class = "mb-3">
                        <label for = "Release_time" class = "form-label fw-semibold text-dark">Current Time</label>
                        <input type = "text" class = "form-control rounded-3" name = "Release_time" value = "{{ Release_time }}" readonly>
                    </div>

                    <div class = "mb-4">
                        <label for = "total_cost" class = "form-label fw-semibold text-dark">Total Cost</label>
                        <input type = "text" class = "form-control rounded-3" name = "price" value = "{{ total_cost }}" readonly>

                    </div>

                    <div class = "d-flex justify-content-center gap-3">
                        <button type = "submit" class = "btn btn-danger btn-lg rounded-pill shadow-sm">
                            <i class = "bi bi-check-circle me-2"></i> Release Spot
                        </button>
                        <a href = "{{ url_for( 'main_routes.AdminHomePage' ) }}" class = "btn btn-outline-secondary btn-lg rounded-pill shadow-sm">
                            <i class = "bi bi-x-circle me-2"></i> Close
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}
